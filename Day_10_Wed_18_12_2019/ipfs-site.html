<html>
    <head>      
    <script src="https://unpkg.com/ipfs/dist/index.js"></script>
 </head>
    <body>
        <h1>IPFS in browser</h1>
        <pre id="log" style="width:100%;height:200px"></pre>
        <script type="text/javascript">
        function log(logstr) {   
            document.getElementById("log").innerHTML +=logstr+"\n";
        }
        async function f() {
            const hash="QmW4QDmtf4t8J8ZtpagZydPsE1vtn3cahC4fy4c7aBPfm6";
            log(`Connecting to IPFS`);
            const node = await window.Ipfs.create();
            log(`Status = ${ node.isOnline() ? 'online' : 'offline' }`);
            log(`Checking hash ${hash} via IPFS in browser`)
            const file = await node.cat(hash);
            if (file)
                log(file.toString('utf8'));
            
        }
        f();
		</script>
	</body>
</html>
